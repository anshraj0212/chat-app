/* ===== Theme tokens ===== */
:root{
  --bg-1:#0b1220;
  --bg-2:#0f172a;
  --text:#e6f6ff;
  --muted:#9fb6c6;

  --accent-1:#06b6d4; /* cyan */
  --accent-2:#22d3ee; /* light cyan */

  --glass: rgba(14, 23, 42, 0.55);
  --glass-border: rgba(255,255,255,0.13);
  --ring:#67e8f9;
  --radius:18px;
  --shadow: 0 24px 80px rgba(0,0,0,.55);
}

/* ===== Base ===== */
*,
*::before,
*::after { box-sizing: border-box; }

html, body { height: 100%; }
body{
  margin:0;
  color:var(--text);
  font:16px/1.5 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial;
  background: var(--bg-2);
  overflow: hidden;
}
.hidden { display:none !important; }

.wrap{
  position:relative; z-index:2;
  min-height:100svh; display:grid; place-items:center;
  padding:24px;
}

/* ===== Background: gradient mesh + blobs + grain ===== */
.bg{ position:fixed; inset:0; z-index:0; overflow:hidden; }

.mesh{
  position:absolute; inset:-20%;
  background:
    radial-gradient(60rem 40rem at 15% 15%, #0ea5e955, transparent 60%),
    radial-gradient(50rem 38rem at 85% 10%, #22d3ee44, transparent 60%),
    radial-gradient(70rem 50rem at 90% 80%, #06b6d438, transparent 60%),
    radial-gradient(50rem 50rem at 5% 90%,  #0891b233, transparent 60%),
    linear-gradient(180deg, var(--bg-2), var(--bg-1));
  filter: saturate(115%);
}
.blob{
  position:absolute; width:42vmax; height:42vmax; border-radius:50%;
  filter: blur(45px) saturate(140%);
  opacity:.55; mix-blend-mode:screen;
  background: radial-gradient(circle at 30% 30%, #fff6, transparent 55%),
              linear-gradient(120deg, var(--accent-1), var(--accent-2));
  animation: floatY 12s ease-in-out infinite, floatX 18s ease-in-out infinite;
}
.b1{ left:-10vmax; top:-8vmax; animation-delay:0s, .6s; }
.b2{ right:-14vmax; top:10vmax;  animation-delay:.4s, 1.2s; }
.b3{ left:20vmax; bottom:-14vmax; animation-delay:.8s, 1.8s; }

@keyframes floatY { 0%,100%{ transform:translateY(-2vmax) } 50%{ transform:translateY(2.5vmax) } }
@keyframes floatX { 0%,100%{ transform:translateX(-2vmax) } 50%{ transform:translateX(2.5vmax) } }

/* subtle animated grain */
.grain{
  position:absolute; inset:-10%;
  background-image:url('data:image/svg+xml;utf8,\
  <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160">\
    <filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter>\
    <rect width="100%" height="100%" filter="url(%23n)" opacity="0.75"/>\
  </svg>');
  mix-blend-mode:soft-light; opacity:.07;
  animation: grain 7s steps(6) infinite;
}
@keyframes grain { from{ transform:translate(0,0) } to{ transform:translate(-8%, -8%) } }

/* ===== Cards (login + chat) ===== */
.card,
.card-lg{
  background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04));
  backdrop-filter: blur(18px) saturate(125%);
  -webkit-backdrop-filter: blur(18px) saturate(125%);
  border:1px solid var(--glass-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.card{
  width:min(520px, 92vw); padding:28px 28px 22px; animation: rise .6s ease-out;
}
.card-lg{
  width:min(1000px, 96vw); display:flex; flex-direction:column; overflow:hidden;
  animation: rise .6s ease-out;
}
@keyframes rise { from { transform: translateY(12px); opacity:0 } to { transform: translateY(0); opacity:1 } }

.brand{ display:flex; align-items:center; gap:12px; margin-bottom:6px; }
.brand.small{ margin: 12px 0; }
.brand-text{ color:#b9f2ff; }
.brand-mark{
  width:40px; height:40px; border-radius:12px; padding:2px;
  background: conic-gradient(from 230deg, #22d3ee, #67e8f9, #a5f3fc, #22d3ee);
  position:relative;
}
.brand-mark::after{
  content:""; position:absolute; inset:2px; border-radius:10px;
  background: radial-gradient(circle at 30% 30%, #ffffff88, transparent 60%),
              linear-gradient(180deg, rgba(11,18,32,.65), rgba(11,18,32,.85));
}

.title{ margin:0 0 8px; font-weight:800; font-size:26px; letter-spacing:.2px; }
.subtitle{ margin:0 0 18px; color:var(--muted); font-size:14px; }
.no-margin{ margin:0; }

/* ===== Inputs & Buttons ===== */
.field{ position:relative; margin:16px 0; }
.input{
  width:100%; padding:14px 16px; border-radius:12px; border:1px solid rgba(255,255,255,.18);
  background: rgba(7, 13, 24, 0.55); color: var(--text); outline:none;
  transition: .2s border-color, .2s box-shadow, .2s background;
}
.input:focus{
  border-color: #67e8f9aa;
  box-shadow: 0 0 0 4px rgba(103,232,249,.25);
  background: rgba(7, 13, 24, 0.68);
}
.pill{ border-radius:999px; }

.btn{
  appearance:none; border:0; cursor:pointer; width:100%;
  padding:14px 16px; border-radius:12px; color:#001018; font-weight:800; letter-spacing:.3px;
  background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
  box-shadow:
    0 12px 28px rgba(34, 211, 238, .25),
    0 0 0 1px rgba(103,232,249, .25) inset;
  transition: transform .07s ease, filter .2s ease, box-shadow .2s ease, opacity .2s ease;
}
.btn:hover{ filter: brightness(1.06) saturate(1.1); }
.btn:active{ transform: translateY(1px); box-shadow: 0 8px 20px rgba(34, 211, 238, .28), 0 0 0 1px rgba(103,232,249,.25) inset; }
.btn:focus-visible{ outline:3px solid var(--ring); outline-offset:2px; }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

/* ===== Chat layout ===== */
.chat-header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:14px 16px; border-bottom:1px solid var(--glass-border);
  background: linear-gradient(180deg, rgba(255,255,255,.06), transparent);
}
.chat-title{ margin:0; font-size:18px; font-weight:800; }
.presence{
  color:#032b2c; background: #67e8f9; padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700;
}

.chat-window{
  height:58vh; min-height:320px; overflow:auto; padding:18px;
  display:flex; flex-direction:column; gap:10px;
  scrollbar-width:thin; scrollbar-color:#2a3a48 transparent;
}
.chat-window::-webkit-scrollbar{ height:8px; width:8px; }
.chat-window::-webkit-scrollbar-thumb{ background:#2a3a48; border-radius:8px; }

.message{
  max-width:82%;
  background: rgba(15, 24, 39, .6);
  border:1px solid rgba(255,255,255,.1);
  color: var(--text);
  border-radius:14px; padding:10px 12px; line-height:1.4;
  box-shadow: 0 8px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
}
.message.you{ align-self:flex-end; background: rgba(6, 182, 212, .18); border-color: rgba(6,182,212,.35); }
.message.meta{ align-self:center; font-size:12px; color:#b9f2ff; background: transparent; border:0; box-shadow:none; }

/* Input bar */
.chat-input{
  display:flex; align-items:center; gap:10px;
  padding:12px; border-top:1px solid var(--glass-border);
  background: linear-gradient(0deg, rgba(255,255,255,.06), transparent);
}

/* ===== Confetti ===== */
.confetti{
  position:fixed; top:-10px; width:8px; height:14px; opacity:.95;
  will-change: transform, opacity;
  border-radius:2px;
  animation-name: confetti-fall, confetti-rotate;
  animation-timing-function: linear, ease-in-out;
  animation-fill-mode: forwards, none;
}
@keyframes confetti-fall {
  to { transform: translateY(110vh) rotate(var(--rot, 240deg)); opacity: .9; }
}
@keyframes confetti-rotate {
  0% { transform: rotate(0deg) }
  50% { transform: rotate(180deg) }
  100% { transform: rotate(360deg) }
}

/* ===== Responsive ===== */
@media (max-width:640px){
  .chat-window{ height:56vh; }
}